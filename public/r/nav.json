{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "nav",
  "description": "Fixed navigation bar with hide-on-scroll behavior and theme toggle",
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "src/organisms/Nav/Nav.tsx",
      "content": "import { type HTMLAttributes, type ReactNode, useState, useCallback, useEffect, useRef } from 'react'\nimport { cn } from '../../utils/cn'\nimport { NavLink } from '../../molecules/NavLink'\nimport { ThemeToggle } from '../../molecules/ThemeToggle'\nimport { MobileDrawer } from '../../molecules/MobileDrawer'\n\nexport interface NavItem {\n  label: string\n  href: string\n  isActive?: boolean\n  external?: boolean\n}\n\nexport interface NavProps extends HTMLAttributes<HTMLElement> {\n  logo?: ReactNode\n  logoHref?: string\n  items?: NavItem[]\n  theme?: 'dark' | 'light'\n  onThemeToggle?: () => void\n  showThemeToggle?: boolean\n  fixed?: boolean\n  hideOnScroll?: boolean\n}\n\nexport function Nav({\n  logo,\n  logoHref = '/',\n  items = [],\n  theme = 'dark',\n  onThemeToggle,\n  showThemeToggle = true,\n  fixed = false,\n  hideOnScroll = false,\n  className,\n  ...props\n}: NavProps) {\n  const [isMenuOpen, setIsMenuOpen] = useState(false)\n  const [navOffset, setNavOffset] = useState(0)\n  const lastScrollY = useRef(0)\n  const navRef = useRef<HTMLElement>(null)\n\n  const toggleMenu = useCallback(() => {\n    setIsMenuOpen((prev) => !prev)\n  }, [])\n\n  const closeMenu = useCallback(() => {\n    setIsMenuOpen(false)\n  }, [])\n\n  useEffect(() => {\n    if (!hideOnScroll) return\n\n    const handleScroll = () => {\n      const currentScrollY = window.scrollY\n      const delta = currentScrollY - lastScrollY.current\n      const navHeight = navRef.current?.offsetHeight || 80\n\n      // Calculate new offset (clamped between -navHeight and 0)\n      setNavOffset((prev) => {\n        const newOffset = prev - delta\n        return Math.max(-navHeight, Math.min(0, newOffset))\n      })\n\n      lastScrollY.current = currentScrollY\n    }\n\n    window.addEventListener('scroll', handleScroll, { passive: true })\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [hideOnScroll])\n\n  return (\n    <>\n      <nav\n        ref={navRef}\n        className={cn(\n          'glass-nav',\n          'py-4 md:py-6',\n          fixed && 'fixed left-0 right-0 z-50',\n          className\n        )}\n        style={hideOnScroll ? { top: navOffset } : undefined}\n        {...props}\n      >\n        <div className=\"mx-auto max-w-6xl px-6 md:px-12 flex items-center justify-between\">\n          {/* Logo */}\n          <a\n            href={logoHref}\n            className=\"text-base md:text-lg font-display font-semibold hover:opacity-70 transition-opacity\"\n            style={{ color: 'var(--color-accent)' }}\n          >\n            {logo}\n          </a>\n\n          {/* Desktop Navigation */}\n          <div className=\"hidden md:flex md:items-center md:gap-6\">\n            {items.map((item) => (\n              <NavLink\n                key={item.href}\n                href={item.href}\n                isActive={item.isActive}\n                variant=\"underline\"\n                {...(item.external && { target: '_blank', rel: 'noopener noreferrer' })}\n              >\n                {item.label}\n              </NavLink>\n            ))}\n            {showThemeToggle && onThemeToggle && (\n              <ThemeToggle theme={theme} onToggle={onThemeToggle} size=\"sm\" />\n            )}\n          </div>\n\n          {/* Mobile Menu Button */}\n          <button\n            onClick={toggleMenu}\n            className=\"md:hidden p-2 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg transition-opacity duration-200 hover:opacity-70\"\n            style={{ color: 'var(--color-grey-200)' }}\n            aria-label={isMenuOpen ? 'Close menu' : 'Open menu'}\n            aria-expanded={isMenuOpen}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              className=\"transition-transform duration-300\"\n              aria-hidden=\"true\"\n            >\n              {isMenuOpen ? (\n                <>\n                  <path d=\"M18 6L6 18\" />\n                  <path d=\"M6 6l12 12\" />\n                </>\n              ) : (\n                <>\n                  <path d=\"M4 6h16\" />\n                  <path d=\"M4 12h16\" />\n                  <path d=\"M4 18h16\" />\n                </>\n              )}\n            </svg>\n          </button>\n        </div>\n      </nav>\n\n      {/* Mobile Drawer */}\n      <MobileDrawer\n        isOpen={isMenuOpen}\n        onClose={closeMenu}\n        position=\"right\"\n        width=\"280px\"\n        zIndex={55}\n        className=\"md:hidden\"\n      >\n        <div className=\"flex flex-col h-full pt-20 px-6 pb-8\">\n          <div className=\"flex flex-col gap-2\">\n            <a\n              href={logoHref}\n              onClick={closeMenu}\n              className=\"mobile-nav-link text-lg py-4 px-4 rounded-xl transition-all duration-200 min-h-[52px] flex items-center\"\n              style={{ color: 'var(--color-white)' }}\n            >\n              Home\n            </a>\n            {items.map((item) => (\n              <a\n                key={item.href}\n                href={item.href}\n                onClick={closeMenu}\n                className=\"mobile-nav-link text-lg py-4 px-4 rounded-xl transition-all duration-200 min-h-[52px] flex items-center\"\n                style={{ color: 'var(--color-white)' }}\n                {...(item.external && { target: '_blank', rel: 'noopener noreferrer' })}\n              >\n                {item.label}\n                {item.external && (\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    className=\"ml-2 opacity-50\"\n                    aria-hidden=\"true\"\n                  >\n                    <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\" />\n                    <polyline points=\"15 3 21 3 21 9\" />\n                    <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\" />\n                  </svg>\n                )}\n              </a>\n            ))}\n          </div>\n\n          {showThemeToggle && onThemeToggle && (\n            <div className=\"mt-auto pt-6 border-t\" style={{ borderColor: 'var(--glass-border)' }}>\n              <div className=\"flex items-center justify-between px-4\">\n                <span className=\"text-sm\" style={{ color: 'var(--color-grey-400)' }}>\n                  Theme\n                </span>\n                <ThemeToggle theme={theme} onToggle={onThemeToggle} size=\"sm\" />\n              </div>\n            </div>\n          )}\n        </div>\n      </MobileDrawer>\n    </>\n  )\n}\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}