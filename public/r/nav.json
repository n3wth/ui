{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "nav",
  "description": "Fixed navigation bar with hide-on-scroll behavior and theme toggle",
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "src/organisms/Nav/Nav.tsx",
      "content": "import { type HTMLAttributes, type ReactNode, useState, useCallback, useEffect, useRef } from 'react'\nimport { cn } from '../../utils/cn'\nimport { NavLink } from '../../molecules/NavLink'\nimport { ThemeToggle } from '../../molecules/ThemeToggle'\nimport { MobileDrawer } from '../../molecules/MobileDrawer'\n\nexport interface NavItem {\n  label: string\n  href: string\n  isActive?: boolean\n  external?: boolean\n}\n\nexport interface NavProps extends HTMLAttributes<HTMLElement> {\n  logo?: ReactNode\n  logoHref?: string\n  items?: NavItem[]\n  theme?: 'dark' | 'light'\n  onThemeToggle?: () => void\n  showThemeToggle?: boolean\n  fixed?: boolean\n  hideOnScroll?: boolean\n}\n\nexport function Nav({\n  logo,\n  logoHref = '/',\n  items = [],\n  theme = 'dark',\n  onThemeToggle,\n  showThemeToggle = true,\n  fixed = false,\n  hideOnScroll = false,\n  className,\n  ...props\n}: NavProps) {\n  const [isMenuOpen, setIsMenuOpen] = useState(false)\n  const [navOffset, setNavOffset] = useState(0)\n  const lastScrollY = useRef(0)\n  const navRef = useRef<HTMLElement>(null)\n\n  const toggleMenu = useCallback(() => {\n    setIsMenuOpen((prev) => !prev)\n  }, [])\n\n  const closeMenu = useCallback(() => {\n    setIsMenuOpen(false)\n  }, [])\n\n  useEffect(() => {\n    if (!hideOnScroll) return\n\n    const handleScroll = () => {\n      const currentScrollY = window.scrollY\n      const delta = currentScrollY - lastScrollY.current\n      const navHeight = navRef.current?.offsetHeight || 80\n\n      // Calculate new offset (clamped between -navHeight and 0)\n      setNavOffset((prev) => {\n        const newOffset = prev - delta\n        return Math.max(-navHeight, Math.min(0, newOffset))\n      })\n\n      lastScrollY.current = currentScrollY\n    }\n\n    window.addEventListener('scroll', handleScroll, { passive: true })\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [hideOnScroll])\n\n  return (\n    <>\n      <nav\n        ref={navRef}\n        className={cn(\n          'glass-nav',\n          'py-4 md:py-6',\n          fixed && 'fixed left-0 right-0 z-50',\n          className\n        )}\n        style={hideOnScroll ? { top: navOffset } : undefined}\n        {...props}\n      >\n        <div className=\"mx-auto max-w-6xl px-6 md:px-12 flex items-center justify-between\">\n          {/* Logo */}\n          <a\n            href={logoHref}\n            className=\"text-base md:text-lg font-display font-semibold hover:opacity-70 transition-opacity\"\n            style={{ color: 'var(--color-accent)' }}\n          >\n            {logo}\n          </a>\n\n          {/* Desktop Navigation */}\n          <div className=\"hidden md:flex md:items-center md:gap-6\">\n            {items.map((item) => (\n              <NavLink\n                key={item.href}\n                href={item.href}\n                isActive={item.isActive}\n                variant=\"underline\"\n                {...(item.external && { target: '_blank', rel: 'noopener noreferrer' })}\n              >\n                {item.label}\n              </NavLink>\n            ))}\n            {showThemeToggle && onThemeToggle && (\n              <ThemeToggle theme={theme} onToggle={onThemeToggle} size=\"sm\" />\n            )}\n          </div>\n\n          {/* Mobile Menu Button */}\n          <button\n            onClick={toggleMenu}\n            className=\"md:hidden p-2 min-w-[44px] min-h-[44px] flex items-center justify-center rounded-lg transition-opacity duration-200 hover:opacity-70\"\n            style={{ color: 'var(--color-grey-200)' }}\n            aria-label={isMenuOpen ? 'Close menu' : 'Open menu'}\n            aria-expanded={isMenuOpen}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              className=\"transition-transform duration-300\"\n              aria-hidden=\"true\"\n            >\n              {isMenuOpen ? (\n                <>\n                  <path d=\"M18 6L6 18\" />\n                  <path d=\"M6 6l12 12\" />\n                </>\n              ) : (\n                <>\n                  <path d=\"M4 6h16\" />\n                  <path d=\"M4 12h16\" />\n                  <path d=\"M4 18h16\" />\n                </>\n              )}\n            </svg>\n          </button>\n        </div>\n      </nav>\n\n      {/* Mobile Drawer */}\n      <MobileDrawer\n        isOpen={isMenuOpen}\n        onClose={closeMenu}\n        position=\"right\"\n        width=\"280px\"\n        zIndex={55}\n        className=\"md:hidden\"\n      >\n        <div className=\"flex flex-col h-full pt-20 px-6 pb-8\">\n          <div className=\"flex flex-col gap-2\">\n            <a\n              href={logoHref}\n              onClick={closeMenu}\n              className=\"mobile-nav-link text-lg py-4 px-4 rounded-xl transition-all duration-200 min-h-[52px] flex items-center\"\n              style={{ color: 'var(--color-white)' }}\n            >\n              Home\n            </a>\n            {items.map((item) => (\n              <a\n                key={item.href}\n                href={item.href}\n                onClick={closeMenu}\n                className=\"mobile-nav-link text-lg py-4 px-4 rounded-xl transition-all duration-200 min-h-[52px] flex items-center\"\n                style={{ color: 'var(--color-white)' }}\n                {...(item.external && { target: '_blank', rel: 'noopener noreferrer' })}\n              >\n                {item.label}\n                {item.external && (\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"16\"\n                    height=\"16\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    className=\"ml-2 opacity-50\"\n                    aria-hidden=\"true\"\n                  >\n                    <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\" />\n                    <polyline points=\"15 3 21 3 21 9\" />\n                    <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\" />\n                  </svg>\n                )}\n              </a>\n            ))}\n          </div>\n\n          {showThemeToggle && onThemeToggle && (\n            <div className=\"mt-auto pt-6 border-t\" style={{ borderColor: 'var(--glass-border)' }}>\n              <div className=\"flex items-center justify-between px-4\">\n                <span className=\"text-sm\" style={{ color: 'var(--color-grey-400)' }}>\n                  Theme\n                </span>\n                <ThemeToggle theme={theme} onToggle={onThemeToggle} size=\"sm\" />\n              </div>\n            </div>\n          )}\n        </div>\n      </MobileDrawer>\n    </>\n  )\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "src/molecules/NavLink/NavLink.tsx",
      "content": "import { type AnchorHTMLAttributes, type ReactNode, forwardRef } from 'react'\nimport { cn } from '../../utils/cn'\n\nexport interface NavLinkProps extends AnchorHTMLAttributes<HTMLAnchorElement> {\n  variant?: 'default' | 'underline' | 'pill'\n  isActive?: boolean\n  children: ReactNode\n}\n\nexport const NavLink = forwardRef<HTMLAnchorElement, NavLinkProps>(\n  ({ variant = 'default', isActive = false, children, className, style, ...props }, ref) => {\n    const baseStyles = [\n      'inline-flex items-center',\n      'text-sm font-normal',\n      'transition-[color,background-color,border-color,transform] duration-200 ease-out',\n      'focus-ring',\n      'hover:text-[--color-white]',\n    ]\n\n    const variants = {\n      default: [],\n      underline: ['relative', 'link-hover'],\n      pill: [\n        'px-3 py-1.5',\n        'rounded-full',\n        'border',\n        isActive\n          ? 'bg-[--color-white] border-[--color-white]'\n          : 'bg-transparent border-transparent hover:bg-[--glass-bg] hover:border-[--glass-border]',\n      ],\n    }\n\n    const getColor = () => {\n      if (variant === 'pill' && isActive) return 'var(--color-bg)'\n      return 'var(--color-white)'\n    }\n\n    return (\n      <a\n        ref={ref}\n        className={cn(baseStyles, variants[variant], className)}\n        style={{ color: getColor(), ...style }}\n        {...props}\n      >\n        {children}\n      </a>\n    )\n  }\n)\n\nNavLink.displayName = 'NavLink'\n",
      "type": "registry:ui"
    },
    {
      "path": "src/molecules/ThemeToggle/ThemeToggle.tsx",
      "content": "import { type ButtonHTMLAttributes } from 'react'\nimport { cn } from '../../utils/cn'\nimport { Icon } from '../../atoms/Icon'\n\nexport interface ThemeToggleProps extends Omit<ButtonHTMLAttributes<HTMLButtonElement>, 'children'> {\n  theme: 'dark' | 'light'\n  onToggle: () => void\n  size?: 'sm' | 'md'\n}\n\nexport function ThemeToggle({\n  theme,\n  onToggle,\n  size = 'md',\n  className,\n  ...props\n}: ThemeToggleProps) {\n  const sizes = {\n    sm: 'w-8 h-8',\n    md: 'w-10 h-10',\n  }\n\n  const iconSizes = {\n    sm: 'sm' as const,\n    md: 'md' as const,\n  }\n\n  return (\n    <button\n      type=\"button\"\n      onClick={onToggle}\n      className={cn(\n        'inline-flex items-center justify-center',\n        'rounded-full',\n        'border border-[var(--glass-border)]',\n        'bg-transparent',\n        'text-[var(--color-grey-400)]',\n        'transition-all duration-200 ease-out',\n        'hover:border-[var(--glass-highlight)]',\n        'hover:bg-[var(--glass-bg)]',\n        'hover:text-[var(--color-white)]',\n        'hover:scale-105',\n        'active:scale-95',\n        'focus-ring',\n        sizes[size],\n        className\n      )}\n      aria-label={`Switch to ${theme === 'dark' ? 'light' : 'dark'} mode`}\n      {...props}\n    >\n      <Icon name={theme === 'dark' ? 'sun' : 'moon'} size={iconSizes[size]} />\n    </button>\n  )\n}\n",
      "type": "registry:ui"
    },
    {
      "path": "src/molecules/MobileDrawer/MobileDrawer.tsx",
      "content": "import { type HTMLAttributes, type ReactNode, useEffect, useRef, useCallback } from 'react'\nimport { cn } from '../../utils/cn'\n\nexport interface MobileDrawerProps extends HTMLAttributes<HTMLDivElement> {\n  /** Whether the drawer is open */\n  isOpen: boolean\n  /** Callback when drawer should close */\n  onClose: () => void\n  /** Drawer content */\n  children: ReactNode\n  /** Width of the drawer */\n  width?: string\n  /** Position of the drawer */\n  position?: 'left' | 'right'\n  /** Z-index for the drawer */\n  zIndex?: number\n  /** Accessible label for the drawer */\n  ariaLabel?: string\n}\n\nexport function MobileDrawer({\n  isOpen,\n  onClose,\n  children,\n  width = '280px',\n  position = 'right',\n  zIndex = 50,\n  ariaLabel = 'Navigation menu',\n  className,\n  ...props\n}: MobileDrawerProps) {\n  const drawerRef = useRef<HTMLDivElement>(null)\n  const previousActiveElement = useRef<HTMLElement | null>(null)\n\n  // Lock body scroll when open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden'\n    } else {\n      document.body.style.overflow = ''\n    }\n    return () => {\n      document.body.style.overflow = ''\n    }\n  }, [isOpen])\n\n  // Handle escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isOpen) {\n        onClose()\n      }\n    }\n    document.addEventListener('keydown', handleEscape)\n    return () => document.removeEventListener('keydown', handleEscape)\n  }, [isOpen, onClose])\n\n  // Focus management\n  useEffect(() => {\n    if (isOpen) {\n      previousActiveElement.current = document.activeElement as HTMLElement\n      // Focus first focusable element in drawer\n      const firstFocusable = drawerRef.current?.querySelector<HTMLElement>(\n        'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'\n      )\n      firstFocusable?.focus()\n    } else if (previousActiveElement.current) {\n      previousActiveElement.current.focus()\n      previousActiveElement.current = null\n    }\n  }, [isOpen])\n\n  // Focus trap\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key !== 'Tab' || !drawerRef.current) return\n\n    const focusableElements = drawerRef.current.querySelectorAll<HTMLElement>(\n      'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex=\"-1\"])'\n    )\n    const firstElement = focusableElements[0]\n    const lastElement = focusableElements[focusableElements.length - 1]\n\n    if (e.shiftKey && document.activeElement === firstElement) {\n      e.preventDefault()\n      lastElement?.focus()\n    } else if (!e.shiftKey && document.activeElement === lastElement) {\n      e.preventDefault()\n      firstElement?.focus()\n    }\n  }, [])\n\n  const translateClass =\n    position === 'right'\n      ? isOpen\n        ? 'translate-x-0'\n        : 'translate-x-full'\n      : isOpen\n        ? 'translate-x-0'\n        : '-translate-x-full'\n\n  const positionClass = position === 'right' ? 'right-0' : 'left-0'\n\n  return (\n    <div className={className}>\n      {/* Backdrop overlay */}\n      <div\n        className={cn(\n          'fixed inset-0 bg-black/50 transition-opacity duration-300',\n          isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'\n        )}\n        style={{ zIndex }}\n        onClick={onClose}\n        aria-hidden=\"true\"\n      />\n\n      {/* Drawer panel */}\n      <div\n        ref={drawerRef}\n        role=\"dialog\"\n        aria-modal={isOpen}\n        aria-label={ariaLabel}\n        aria-hidden={!isOpen}\n        className={cn(\n          'mobile-menu-drawer',\n          'fixed top-0 h-full',\n          'transition-transform duration-300 ease-out',\n          translateClass,\n          positionClass\n        )}\n        style={{\n          width,\n          maxWidth: '80vw',\n          zIndex: zIndex + 1,\n        }}\n        onKeyDown={handleKeyDown}\n        {...props}\n      >\n        {children}\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}